<template>
  <v-row class="d-flex align-center justify-center ma-2" fill-height>
    <v-card :loading="loading">
      <v-card-text>
        <svg width="1080" height="767.9999999999999" xmlns="http://www.w3.org/2000/svg" stroke="null">
          <g id="Layer_1" stroke="null">
            <title stroke="null"></title>
            <path fill="none" stroke="#000000" opacity="NaN"
              d="m39.55503,-72.66154l-0.44396,30.22255c0.44396,0.01271 31.11372,-0.00036 31.11108,0c0.00269,0 -30.66713,-60.45782 -30.66713,-30.22255l0.00001,0z"
              id="svg_163" />
            <path fill="none" stroke="#000000" opacity="NaN"
              d="m-81.02613,-162.96928l-0.86285,22.80589l0.86285,-22.80589z" id="svg_172" />
            <path fill="none" stroke="#000000" opacity="NaN"
              d="m-128.32091,-160.96978l23.13106,22.52024l-23.13106,-22.52024z" id="svg_174" />
            <rect fill="#ffffff" stroke-width="2" x="0.53775" y="-0.00064" width="1079.46304" height="767.00157"
              id="svg_16" stroke="#000000" />
            <line fill="none" stroke-width="5" x1="16.29179" y1="36.57741" x2="16.29179" y2="10.07409" id="svg_74"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="13.99099" y1="12.98549" x2="374.7888" y2="12.98549" id="svg_77"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="312.90741" y1="13.66134" x2="312.90741" y2="180.70565" id="svg_78"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="310.73175" y1="217.11916" x2="310.73175" y2="302.29265" id="svg_79"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="311.45698" y1="338.09528" x2="311.45698" y2="429.30555" id="svg_80"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="310.00652" y1="464.7626" x2="310.73175" y2="530.00635" id="svg_81"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="297.37255" y1="586.77727" x2="465.2295" y2="586.77727" id="svg_82"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="455.77607" y1="587.45312" x2="455.77607" y2="756.43581" id="svg_83"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="256.34013" y1="586.10142" x2="243.28614" y2="586.77727" id="svg_86"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="244.01137" y1="518.14705" x2="244.01137" y2="754.42884" id="svg_87"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="160.76384" y1="754.36092" x2="317.30429" y2="754.36092" id="svg_88"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="79.38606" y1="755.73834" x2="13.58916" y2="755.73834" id="svg_89"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="16.48872" y1="682.07131" x2="16.48872" y2="758.81181" id="svg_90"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="16.29179" y1="537.44063" x2="16.29179" y2="631.38299" id="svg_91"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="16.29179" y1="374.56217" x2="16.29179" y2="487.43626" id="svg_92"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="16.29179" y1="238.04164" x2="16.29179" y2="324.61567" id="svg_93"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="16.54344" y1="89.75311" x2="16.54344" y2="188.42637" id="svg_94"
              stroke="#000000" />
            <line stroke="#000000" fill="none" stroke-width="5" x1="92.44005" y1="132.60993" x2="92.44005"
              y2="145.16538" id="svg_95" />
            <line fill="none" stroke-width="5" x1="93.16527" y1="181.25784" x2="93.16527" y2="190.22816" id="svg_96"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="111.29581" y1="133.96162" x2="14.83862" y2="133.96162" id="svg_97"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="151.90822" y1="134.63747" x2="170.84736" y2="134.63747" id="svg_98"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="160.61088" y1="10.95796" x2="160.61088" y2="133.96348" id="svg_99"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="90.63361" y1="188.02916" x2="247.32343" y2="188.02916" id="svg_100"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="244.01137" y1="304.40227" x2="244.01137" y2="188.02916" id="svg_101"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="15.56656" y1="292.10917" x2="246.91679" y2="292.10917" id="svg_102"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="244.01137" y1="340.76996" x2="244.01137" y2="444.18297" id="svg_103"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="14.84135" y1="427.95387" x2="244.20521" y2="427.95387" id="svg_104"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="372.11619" y1="754.38664" x2="565.54969" y2="754.38664" id="svg_105"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="310.00652" y1="526.62713" x2="656.13177" y2="526.62713" id="svg_106"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="653.76156" y1="404.97516" x2="653.76156" y2="528.67128" id="svg_107"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="654.48678" y1="416.46452" x2="312.18219" y2="416.46452" id="svg_108"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="489.86147" y1="344.82502" x2="489.86147" y2="415.79189" id="svg_109"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="489.13626" y1="288.72996" x2="489.13626" y2="308.53559" id="svg_110"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="310.73175" y1="291.43334" x2="655.95626" y2="291.43334" id="svg_111"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="653.67756" y1="169.02725" x2="653.67756" y2="369.9603" id="svg_112"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="208.75846" y1="134.63747" x2="312.20835" y2="134.63747" id="svg_113"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="312.82341" y1="169.78136" x2="750.16149" y2="169.78136" id="svg_114"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="430.7439" y1="12.86023" x2="654.14158" y2="12.86023" id="svg_115"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="708.89763" y1="12.98549" x2="1071.4349" y2="12.98549" id="svg_116"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="1067.86307" y1="12.30966" x2="1067.86307" y2="93.45601" id="svg_117"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="799.53109" y1="12.30966" x2="799.53109" y2="191.64702" id="svg_118"
              stroke="#000000" />
            <line stroke="#000000" fill="none" stroke-width="5" x1="797.09841" y1="171.80889" x2="790.82844"
              y2="171.80889" id="svg_119" />
            <line fill="none" stroke-width="5" x1="799.6991" y1="228.57982" x2="799.6991" y2="246.82761" id="svg_120"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="798.08065" y1="283.03878" x2="798.08065" y2="413.76114" id="svg_121"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="795.17976" y1="449.68787" x2="795.17976" y2="588.26898" id="svg_122"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="785.75189" y1="586.77727" x2="1069.31723" y2="586.77727" id="svg_123"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="1067.66615" y1="507.64086" x2="1067.66615" y2="644.94108"
              id="svg_124" stroke="#000000" />
            <line fill="none" stroke-width="5" x1="1067.46921" y1="455.66348" x2="1067.46921" y2="351.4582" id="svg_125"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="798.80588" y1="406.32686" x2="1067.91097" y2="406.32686" id="svg_126"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="944.57541" y1="282.98919" x2="944.57541" y2="407.80537" id="svg_127"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="800.98154" y1="238.04164" x2="1070.86143" y2="238.04164" id="svg_128"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="945.30063" y1="237.36579" x2="945.30063" y2="247.89486" id="svg_129"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="1067.66615" y1="146.30596" x2="1067.66615" y2="299.54921"
              id="svg_130" stroke="#000000" />
            <line fill="none" stroke-width="5" x1="1067.86307" y1="697.61134" x2="1067.86307" y2="757.08386"
              id="svg_131" stroke="#000000" />
            <line fill="none" stroke-width="5" x1="1068.06952" y1="754.38664" x2="944.05451" y2="754.38664" id="svg_132"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="621.59241" y1="754.32401" x2="888.75411" y2="754.32401" id="svg_133"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="730.63504" y1="584.99147" x2="730.63504" y2="753.95254" id="svg_134"
              stroke="#000000" />
            <line fill="none" stroke-width="5" x1="745.91765" y1="587.45312" x2="506.27214" y2="587.45312" id="svg_135"
              stroke="#000000" />
            <rect fill="none" x="13.57346" y="322.49674" width="5.61821" height="52.73262" id="svg_142"
              stroke="#000000" />
            <rect fill="none" x="13.57346" y="488.0892" width="5.61821" height="52.73262" id="svg_143"
              stroke="#000000" />
            <rect fill="none" x="13.57346" y="185.93443" width="5.61821" height="52.73262" id="svg_144"
              stroke="#000000" />
            <rect fill="none" x="13.57346" y="36.8037" width="5.61821" height="52.73262" id="svg_145"
              stroke="#000000" />
            <rect fill="none" x="13.57346" y="630.31463" width="5.61821" height="52.73262" id="svg_146"
              stroke="#000000" />
            <rect transform="matrix(0 1.28476 -1.32836 0 529.432 -606.175)" fill="none" x="479.82013" y="74.86643"
              width="4.07523" height="41.04473" id="svg_147" stroke="#000000" />
            <rect transform="matrix(0 1.28476 -1.32836 0 797.325 -865.275)" fill="none" x="681.4917" y="66.45938"
              width="4.07523" height="41.04473" id="svg_148" stroke="#000000" />
            <rect fill="none" x="1065.06973" y="93.09233" width="5.41336" height="52.73262" id="svg_149"
              stroke="#000000" />
            <rect fill="none" x="1065.06973" y="298.92716" width="5.41336" height="52.73262" id="svg_150"
              stroke="#000000" />
            <rect fill="none" x="1065.06973" y="455.01845" width="5.41336" height="52.73262" id="svg_151"
              stroke="#000000" />
            <rect fill="none" x="1065.06973" y="645.38589" width="5.41336" height="52.73262" id="svg_152"
              stroke="#000000" />
            <path fill="none" opacity="undefined" d="m943.21852,751.63274l0,5.23569l-54.52208,0l0,-5.23569l54.52208,0z"
              id="svg_153" stroke="#000000" />
            <path fill="none" opacity="undefined" d="m622.04921,751.63324l0,5.23569l-54.52208,0l0,-5.23569l54.52208,0z"
              id="svg_154" stroke="#000000" />
            <path fill="none" opacity="undefined" d="m371.87502,751.89025l0,4.97904l-54.52208,0l0,-4.97904l54.52208,0z"
              id="svg_155" stroke="#000000" />
            <path fill="none" opacity="NaN" d="m-60.89875,399.19999" id="svg_164" stroke="#000000" />
            <g transform="matrix(0 -1.28476 1.32836 0 -159.718 474.019)" id="svg_6" stroke="null">
              <path id="svg_1" fill="none" d="m226.2866,191.32144a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="black" />
              <line id="svg_4" y2="191.4028" x2="256.5932" y1="161.9095" x1="256.5932" fill="none" stroke="black" />
            </g>
            <g id="svg_12" stroke="null">
              <path id="svg_10" fill="none" d="m111.79119,134.16651a40.58518,37.70487 0 0 1 40.58518,-37.70487"
                stroke="black" />
              <line id="svg_11" y2="134.27104" x2="152.04918" y1="96.37925" x1="152.04918" fill="none" stroke="black" />
            </g>
            <g transform="matrix(0 -1.28476 1.32836 0 -176.4 774.594)" id="svg_15" stroke="null">
              <path id="svg_13" fill="none" d="m336.44821,316.57817a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="black" />
              <line id="svg_14" y2="316.65953" x2="366.75481" y1="287.16623" x1="366.75481" fill="none"
                stroke="black" />
            </g>
            <g transform="matrix(0 1.28476 -1.32836 0 430.874 -303.564)" id="svg_32" stroke="null">
              <path id="svg_30" fill="none" d="m311.79705,196.69961a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_31" y2="196.01992" x2="342.57388" y1="196.01992" x1="311.40762" fill="none"
                stroke="#000000" />
            </g>
            <g transform="matrix(0 1.28476 -1.32836 0 1025.21 366.666)" id="svg_47" stroke="null">
              <path id="svg_45" fill="none" d="m273.86491,681.54017a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                transform="rotate(-90 289.142 666.866)" stroke="black" />
              <line id="svg_46" y2="666.11764" x2="289.15" y1="636.62434" x1="289.15" fill="none"
                transform="rotate(-90 289.151 651.371)" stroke="black" />
            </g>
            <g transform="matrix(0 1.28476 -1.32836 0 984.359 404.047)" id="svg_53" stroke="null">
              <path id="svg_51" fill="none" d="m244.03042,681.34251a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_52" y2="680.66283" x2="274.80725" y1="680.66283" x1="243.64099" fill="none"
                stroke="#000000" />
            </g>
            <g transform="matrix(0 -1.28476 1.32836 0 -416.595 1104.91)" id="svg_158" stroke="null">
              <path id="svg_156" fill="none" d="m375.2933,537.13901a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                transform="rotate(-90 390.569 522.466)" stroke="black" />
              <line id="svg_157" y2="521.71648" x2="390.57839" y1="492.22318" x1="390.57839" fill="none"
                transform="rotate(-90 390.579 506.97)" stroke="black" />
            </g>
            <g transform="matrix(0 -1.28476 1.32836 0 -215.119 1299.77)" id="svg_161" stroke="null">
              <path id="svg_159" fill="none" d="m526.25238,542.32758a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                transform="rotate(-90 541.529 527.654)" stroke="black" />
              <line id="svg_160" y2="526.90505" x2="541.53747" y1="497.41175" x1="541.53747" fill="none"
                transform="rotate(-90 541.538 512.158)" stroke="black" />
            </g>
            <g transform="matrix(0 -1.28476 1.32836 0 53.0247 1559.11)" id="svg_166" stroke="null">
              <path id="svg_162" fill="none" d="m728.11339,551.22227a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                transform="rotate(-90 743.39 536.548)" stroke="black" />
              <line id="svg_165" y2="535.79974" x2="743.39848" y1="506.30644" x1="743.39848" fill="none"
                transform="rotate(-90 743.399 521.053)" stroke="black" />
            </g>
            <g transform="matrix(-1.32836 0 0 -1.28476 1861.61 952.847)" id="svg_169" stroke="null">
              <path id="svg_167" fill="none" d="m770.89743,420.50114a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_168" y2="419.82146" x2="801.67426" y1="419.82146" x1="770.508" fill="none"
                stroke="#000000" />
            </g>
            <g transform="matrix(-1.32836 0 0 -1.28476 1861.61 619.821)" id="svg_192" stroke="null">
              <path id="svg_190" fill="none" d="m769.41498,290.89499a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_191" y2="290.21531" x2="800.19181" y1="290.21531" x1="769.02555" fill="none"
                stroke="#000000" />
            </g>
            <g transform="matrix(-1.32836 0 0 -1.28476 1861.61 509.552)" id="svg_195" stroke="null">
              <path id="svg_193" fill="none" d="m767.00204,247.98061a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_194" y2="247.30093" x2="798.77887" y1="247.30093" x1="767.61261" fill="none"
                stroke="#000000" />
            </g>
            <g transform="matrix(-1.32836 0 0 -1.28476 2145.98 619.821)" id="svg_198" stroke="null">
              <path id="svg_196" fill="none" d="m872.03225,290.89499a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_197" y2="290.21531" x2="902.80908" y1="290.21531" x1="871.64282" fill="none"
                stroke="#000000" />
            </g>
            <g id="svg_201" stroke="null">
              <path id="svg_199" fill="none" d="m750.05955,172.0905a40.58518,37.70487 0 0 1 40.58518,-37.70487"
                stroke="black" />
              <line id="svg_200" y2="172.19504" x2="790.31753" y1="134.30324" x1="790.31753" fill="none"
                stroke="black" />
            </g>
            <g transform="matrix(-1.32836 0 0 -1.28476 924.638 982.725)" id="svg_231" stroke="null">
              <path id="svg_229" fill="none" d="m430.07776,432.12905a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_230" y2="431.44937" x2="460.8546" y1="431.44937" x1="429.68833" fill="none"
                stroke="#000000" />
            </g>
            <g transform="matrix(-1.32836 0 0 -1.28476 923.403 729.359)" id="svg_237" stroke="null">
              <path id="svg_235" fill="none" d="m430.35387,333.5244a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_236" y2="332.84472" x2="461.13071" y1="332.84472" x1="429.96445" fill="none"
                stroke="#000000" />
            </g>
            <g transform="matrix(-1.32836 0 0 -1.28476 923.403 487.869)" id="svg_240" stroke="null">
              <path id="svg_238" fill="none" d="m430.35387,239.54213a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_239" y2="238.86245" x2="461.13071" y1="238.86245" x1="429.96445" fill="none"
                stroke="#000000" />
            </g>
            <g id="svg_243" stroke="null">
              <path id="svg_241" fill="none" d="m451.63154,346.33323a40.58518,37.70487 0 0 1 40.58518,-37.70487"
                stroke="#000000" />
              <line id="svg_242" y2="345.45999" x2="492.51419" y1="345.45999" x1="451.11425" fill="none"
                stroke="#000000" />
            </g>
            <g id="svg_246" stroke="null">
              <path id="svg_244" fill="none" d="m614.72183,407.28461a40.58518,37.70487 0 0 1 40.58518,-37.70487"
                stroke="#000000" />
              <line id="svg_245" y2="406.41138" x2="655.60449" y1="406.41138" x1="614.20454" fill="none"
                stroke="#000000" />
            </g>
            <g transform="matrix(1.37862 0 0 1.23791 121.937 -280.841)" id="svg_5" stroke="null">
              <path id="svg_2" fill="none" d="m60.31984,616.31246a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                transform="rotate(-90 75.5969 601.638)" stroke="black" />
              <line id="svg_3" y2="600.88992" x2="75.60494" y1="571.39662" x1="75.60494" fill="none"
                transform="rotate(-90 75.6059 586.143)" stroke="black" />
            </g>
            <g transform="matrix(1.37862 0 0 1.23791 119.267 -207.52)" id="svg_9" stroke="null">
              <path id="svg_7" fill="none" d="m60.55183,587.31232a30.5529,29.3478 0 0 1 30.5529,-29.3478"
                stroke="#000000" />
              <line id="svg_8" y2="586.63264" x2="91.32866" y1="586.63264" x1="60.1624" fill="none" stroke="#000000" />
            </g>
          </g>
          <template v-for="(environment, key) in environments">
            <foreignObject :x="environment.floor_plan_x" :y="environment.floor_plan_y" width="250" height="100">
              <ModalLivePreview :name="environment.name" :key_env="environment.key" :icon="environment.icon"
                :sensors_temp="environment.sensors" :environment_tmp="environment" />
            </foreignObject>
          </template>
        </svg>
      </v-card-text>
    </v-card>

  </v-row>
</template>

<script>
export default {
  mounted() {
    this.getEnvironments();
  },
  data() {
    return {
      environments: [],
      loading: true
    }
  },
  methods: {
    async getEnvironments() {
      this.loading = true;
      await this.$axios
        .get(`/environments`)
        .then((response) => {
          this.environments = response.data;
          this.loading = false;
        })
        .catch((error) => {
        });
    }
  },
}
</script>
